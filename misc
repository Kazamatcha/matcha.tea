local TargetStatsGui = Instance.new("ScreenGui")
TargetStatsGui.Name = "Elysian_TargetStats"
TargetStatsGui.Parent = CoreGui
TargetStatsGui.ResetOnSpawn = false

local StatsFrame = Instance.new("Frame", TargetStatsGui)
StatsFrame.AnchorPoint = Vector2.new(0.5, 1)
StatsFrame.Position = UDim2.new(0.5, 0, 0.95, 0)
StatsFrame.Size = UDim2.new(0, 300, 0, 60)
StatsFrame.BackgroundTransparency = 0.6
StatsFrame.BackgroundColor3 = Color3.fromRGB(20,20,20)
StatsFrame.Visible = false
local StatsText = Instance.new("TextLabel", StatsFrame)
StatsText.Size = UDim2.new(1, -12, 1, -12)
StatsText.Position = UDim2.new(0,6,0,6)
StatsText.BackgroundTransparency = 1
StatsText.TextColor3 = Color3.fromRGB(255,255,255)
StatsText.Font = Enum.Font.Code
StatsText.TextSize = 14
StatsText.TextWrapped = true
StatsText.Text = ""

-- update stats display
RunService.Heartbeat:Connect(function()
    if getgenv().Elysian['TargetStats'] and Plr and Plr.Character and isValidTarget(Plr) then
        local hum = Plr.Character:FindFirstChildOfClass("Humanoid")
        if hum then
            StatsText.Text = "Target: "..tostring(Plr.Name).." | Health: "..math.floor(hum.Health).."/"..math.floor(hum.MaxHealth)
            StatsFrame.Visible = true
        else
            StatsFrame.Visible = false
        end
    else
        StatsFrame.Visible = false
    end
end)
